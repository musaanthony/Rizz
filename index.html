<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ðŸ”¥ Rizz System â€” Version 1 (Phase A)</title>

<style>
:root{
  --bg:#ffffff;
  --card:#f3f4f6;
  --accent:#00bfa6;
  --accent2:#06a88f;
  --danger:#ff6b6b;
  --muted:#6b7280;
  --border:#e5e7eb;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:-apple-system,Segoe UI,Roboto,Arial;
  background:var(--bg);
  color:#111;
}

.wrap{
  max-width:760px;
  margin:auto;
  padding:16px;
}

h1{
  margin:0 0 6px;
}

.sub{
  color:var(--muted);
  font-size:14px;
  margin-bottom:14px;
}

/* controls */
.controls{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  margin-bottom:10px;
}

input{
  flex:1;
  padding:10px;
  border-radius:10px;
  border:1px solid var(--border);
}

button{
  padding:8px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background:#fff;
}

button.primary{
  background:linear-gradient(180deg,var(--accent),var(--accent2));
  color:#fff;
  border:none;
}

button.danger{
  background:var(--danger);
  color:#fff;
  border:none;
}

/* phase card */
.card{
  background:var(--card);
  padding:12px;
  border-radius:12px;
  margin-bottom:12px;
}

.bar{
  height:10px;
  background:#e5e7eb;
  border-radius:999px;
  overflow:hidden;
  margin:8px 0;
}

#phaseBar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--accent),var(--accent2));
}

/* list */
.list{
  margin-top:12px;
}

.person{
  display:flex;
  align-items:center;
  gap:8px;
  background:#fff;
  border:1px solid var(--border);
  padding:8px;
  border-radius:10px;
  margin-bottom:6px;
}

.person.paused{
  opacity:.45;
}

.right{
  margin-left:auto;
  display:flex;
  gap:6px;
  flex-wrap:wrap;
}

.muted{
  color:var(--muted);
  margin-top:6px;
}
</style>
</head>

<body>
<div class="wrap">
  <h1>ðŸ”¥ Rizz System â€” Version 1 (Phase A)</h1>
  <div class="sub">
    Focus limit = 2 Â· Auto-focus â‰¥90% Â· Decay âˆ’10 every 2 days
  </div>

  <div class="controls">
    <input id="nameInput" placeholder="Add name (e.g. Charity)">
    <button id="addBtn" class="primary">Add / Update</button>
    <button id="decayBtn">Run Decay</button>
  </div>

  <div class="controls">
    <button id="pauseAll">Pause All</button>
    <button id="resumeAll">Resume All</button>
  </div>

  <div class="card">
    <strong>Phase â€” <span id="phase">0%</span></strong>
    <div class="bar">
      <div id="phaseBar"></div>
    </div>

    <div class="controls">
      <button id="minus">âˆ’10</button>
      <button id="plus">+10</button>
      <button id="focusToggle">Focus / Unfocus</button>
      <button id="deleteFocused" class="danger">Delete Focused</button>
    </div>
  </div>

  <div id="list" class="list"></div>
  <div id="status" class="muted">Ready</div>
</div>

<script>
/* ===== RIZZ SYSTEM â€” VERSION 1 LOGIC (RESTORED) ===== */

let people = [];
const FOCUS_LIMIT = 2;

const $ = id => document.getElementById(id);

function render(){
  const list = $("list");
  list.innerHTML = "";

  if(people.length === 0){
    list.innerHTML = '<div class="muted">No entries yet â€” add a name above</div>';
    $("phase").textContent = "0%";
    $("phaseBar").style.width = "0%";
    return;
  }

  const avg = Math.round(
    people.reduce((s,p)=>s+p.score,0) / people.length
  );
  $("phase").textContent = avg + "%";
  $("phaseBar").style.width = avg + "%";

  people.forEach(p=>{
    const row = document.createElement("div");
    row.className = "person" + (p.active ? "" : " paused");

    row.innerHTML = `
      <strong>${p.name}</strong> ${p.score}%
      <div class="right">
        <button onclick="change('${p.id}',10)">+10</button>
        <button onclick="change('${p.id}',-10)">âˆ’10</button>
        <button onclick="toggleFocus('${p.id}')">${p.focused?"Unfocus":"Focus"}</button>
        <button onclick="toggleActive('${p.id}')">${p.active?"Pause":"Activate"}</button>
        <button onclick="removeOne('${p.id}')">Delete</button>
      </div>
    `;
    list.appendChild(row);
  });
}

function add(){
  const n = $("nameInput").value.trim();
  if(!n) return;

  let p = people.find(x=>x.name.toLowerCase()===n.toLowerCase());
  if(p){
    p.score = Math.min(100,p.score+10);
  }else{
    people.push({
      id: Date.now()+Math.random(),
      name:n,
      score:30,
      focused:false,
      active:true
    });
  }

  $("nameInput").value="";
  $("status").textContent = "Saved";
  render();
}

function change(id,val){
  const p = people.find(x=>x.id==id);
  if(!p || !p.active) return;
  p.score = Math.max(0,Math.min(100,p.score+val));
  render();
}

function toggleFocus(id){
  const p = people.find(x=>x.id==id);
  if(!p || !p.active) return;

  if(!p.focused){
    const focused = people.filter(x=>x.focused);
    if(focused.length >= FOCUS_LIMIT){
      focused[0].focused = false;
    }
    p.focused = true;
  }else{
    p.focused = false;
  }
  render();
}

function toggleActive(id){
  const p = people.find(x=>x.id==id);
  p.active = !p.active;
  if(!p.active) p.focused = false;
  render();
}

function removeOne(id){
  people = people.filter(p=>p.id!=id);
  $("status").textContent = "Deleted";
  render();
}

/* global actions */
$("addBtn").onclick = add;
$("nameInput").addEventListener("keydown",e=>e.key==="Enter"&&add());
$("decayBtn").onclick = ()=>{people.forEach(p=>p.active&&(p.score=Math.max(0,p.score-10)));render()};
$("pauseAll").onclick = ()=>{people.forEach(p=>{p.active=false;p.focused=false});render()};
$("resumeAll").onclick = ()=>{people.forEach(p=>p.active=true);render()};
$("minus").onclick = ()=>{people.forEach(p=>p.focused&&p.active&&(p.score=Math.max(0,p.score-10)));render()};
$("plus").onclick = ()=>{people.forEach(p=>p.focused&&p.active&&(p.score=Math.min(100,p.score+10)));render()};
$("focusToggle").onclick = ()=>{people.forEach(p=>p.focused=false);render()};
$("deleteFocused").onclick = ()=>{
  const count = people.filter(p=>p.focused).length;
  if(!count) return $("status").textContent="No focused entries";
  people = people.filter(p=>!p.focused);
  $("status").textContent="Deleted focused";
  render();
};

render();
</script>
</body>
</html>
