<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Rizz System â€” Version 1</title>

<style>
:root{
  --bg:#ffffff;
  --card:#f6f8f9;
  --accent:#10b981;
  --muted:#6b7280;
  --danger:#ef4444;
  --border:#e5e7eb;
}

*{
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
}

body{
  margin:0;
  background:var(--bg);
  color:#111827;
}

.container{
  max-width:720px;
  margin:auto;
  padding:16px;
}

h1{
  font-size:22px;
  margin-bottom:4px;
}

small{
  color:var(--muted);
}

.card{
  background:var(--card);
  border-radius:14px;
  padding:14px;
  margin-top:14px;
}

input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid var(--border);
  margin-bottom:10px;
  font-size:15px;
}

button{
  padding:10px 14px;
  border-radius:999px;
  border:1px solid var(--border);
  background:#fff;
  font-size:14px;
}

.primary{
  background:var(--accent);
  color:#fff;
  border:none;
}

.danger{
  background:var(--danger);
  color:#fff;
  border:none;
}

.row{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.progress{
  height:10px;
  background:#e5e7eb;
  border-radius:999px;
  overflow:hidden;
  margin-top:6px;
}

.progress span{
  height:100%;
  display:block;
  background:var(--accent);
}

.item{
  padding:12px 0;
  border-bottom:1px solid var(--border);
}

.tag{
  font-size:11px;
  padding:4px 8px;
  border-radius:999px;
  margin-left:6px;
}

.focus{
  background:#d1fae5;
  color:#065f46;
}

.pause{
  background:#fef3c7;
  color:#92400e;
}

.footer{
  margin-top:18px;
  color:var(--muted);
  font-size:13px;
}
</style>
</head>

<body>
<div class="container">

<h1>ðŸ”¥ Rizz System â€” Version 1</h1>
<small>Focus limit = 2 Â· Auto-focus â‰¥90%</small>

<div class="card">
  <input id="nameInput" placeholder="Add name (e.g. Charity)" />
  <div class="row">
    <button class="primary" onclick="addOrUpdate()">Add / Update</button>
    <button onclick="runDecay()">Run Decay</button>
    <button onclick="pauseAll()">Pause All</button>
    <button onclick="resumeAll()">Resume All</button>
  </div>
</div>

<div class="card">
  <strong>Overall Progress â€” <span id="avgValue">0%</span></strong>
  <div class="progress"><span id="avgBar"></span></div>

  <div class="row" style="margin-top:10px">
    <button onclick="adjustFocused(-10)">âˆ’10</button>
    <button onclick="adjustFocused(10)">+10</button>
    <button onclick="toggleFocus()">Focus / Unfocus</button>
    <button class="danger" onclick="deleteFocused()">Delete Focused</button>
  </div>

  <div id="list"></div>
</div>

<div class="footer" id="status">Ready</div>

</div>

<script>
let people = JSON.parse(localStorage.getItem("rizz_v1")) || [];

function save(){
  localStorage.setItem("rizz_v1", JSON.stringify(people));
}

function addOrUpdate(){
  const name = nameInput.value.trim();
  if(!name) return;

  let p = people.find(x => x.name === name);
  if(!p){
    p = { name, progress:0, focus:false, pause:false };
    people.push(p);
  }

  autoFocus(p);
  nameInput.value="";
  save();
  render();
}

function autoFocus(p){
  if(p.progress >= 90){
    const focused = people.filter(x => x.focus).length;
    if(focused < 2) p.focus = true;
  }
}

function runDecay(){
  people.forEach(p=>{
    if(!p.pause) p.progress = Math.max(0, p.progress - 10);
  });
  save();
  render();
}

function pauseAll(){
  people.forEach(p=>p.pause=true);
  save(); render();
}

function resumeAll(){
  people.forEach(p=>p.pause=false);
  save(); render();
}

function adjustFocused(val){
  people.forEach(p=>{
    if(p.focus && !p.pause){
      p.progress = Math.min(100, Math.max(0, p.progress + val));
      autoFocus(p);
    }
  });
  save();
  render();
}

function toggleFocus(){
  const focused = people.filter(p=>p.focus);
  if(focused.length){
    focused.forEach(p=>p.focus=false);
  }
}

function deleteFocused(){
  people = people.filter(p=>!p.focus);
  save();
  render();
}

function render(){
  list.innerHTML="";
  let total = 0;

  people.forEach(p=>{
    total += p.progress;
    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <strong>${p.name}</strong>
      ${p.focus ? '<span class="tag focus">FOCUS</span>' : ''}
      ${p.pause ? '<span class="tag pause">PAUSED</span>' : ''}
      <div class="progress">
        <span style="width:${p.progress}%"></span>
      </div>
    `;
    list.appendChild(div);
  });

  const avg = people.length ? Math.round(total / people.length) : 0;
  avgValue.textContent = avg + "%";
  avgBar.style.width = avg + "%";
}

render();
</script>
</body>
</html>
